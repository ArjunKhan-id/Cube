<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubus 3D dengan Gambar pada Sisi (Texture dari GitHub)</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #000; }
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubus 3D dengan Textures dari Repo GitHub arjunkhan-id/Cube</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #000; }
        canvas { display: block; }
        #loading { position: absolute; top: 50%; left: 50%; color: white; font-family: Arial; transform: translate(-50%, -50%); z-index: 100; }
    </style>
</head>
<body>
    <div id="loading">Loading textures dari repo Cube...</div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <script>
        // Setup scene, camera, dan renderer
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Array URL gambar dari GitHub repo arjunkhan-id/Cube (URL sudah diperbaiki)
        const textureUrls = {
            front: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/front.jpg',  // Sisi depan
            back: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/back.jpg',    // Sisi belakang
            top: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/top.jpg',      // Sisi atas
            bottom: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/bottom.jpg', // Sisi bawah
            left: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/left.jpg',    // Sisi kiri
            right: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/right.jpg'   // Sisi kanan
        };

        // Fungsi untuk load textures
        const loader = new THREE.TextureLoader();
        const textures = {};
        let loadedTextures = 0;
        const totalTextures = 6;

        function loadTexture(key, url) {
            loader.load(
                url,
                (texture) => {
                    textures[key] = texture;
                    texture.wrapS = THREE.RepeatWrapping;
                    texture.wrapT = THREE.RepeatWrapping;
                    loadedTextures++;
                    console.log(`Texture ${key} loaded successfully from ${url}`);
                    if (loadedTextures === totalTextures) {
                        createCube();
                        document.getElementById('loading').style.display = 'none';
                    }
                },
                (progress) => {
                    // Optional: Progress loading (tidak wajib)
                    console.log(`Loading ${key}: ${(progress.loaded / progress.total * 100).toFixed(2)}%`);
                },
                (error) => {
                    console.error('Error loading texture:', url, error);
                    textures[key] = null; // Fallback ke warna solid
                    loadedTextures++;
                    if (loadedTextures === totalTextures) {
                        createCube();
                        document.getElementById('loading').style.display = 'none';
                    }
                }
            );
        }

        // Load semua textures
        Object.keys(textureUrls).forEach(key => {
            loadTexture(key, textureUrls[key]);
        });

        // Fungsi buat kubus dengan textures pada setiap face
        function createCube() {
            const geometry = new THREE.BoxGeometry(2, 2, 2); // Ukuran 2x2x2 agar texture jelas

            // Materials untuk setiap face (urutan Three.js: right(0), left(1), top(2), bottom(3), front(4), back(5))
            const materials = [
                new THREE.MeshPhongMaterial({ map: textures.right || undefined, color: 0xff0000 }),   // Right (merah fallback)
                new THREE.MeshPhongMaterial({ map: textures.left || undefined, color: 0x00ff00 }),    // Left (hijau fallback)
                new THREE.MeshPhongMaterial({ map: textures.top || undefined, color: 0x0000ff }),     // Top (biru fallback)
                new THREE.MeshPhongMaterial({ map: textures.bottom || undefined, color: 0xffff00 }),  // Bottom (kuning fallback)
                new THREE.MeshPhongMaterial({ map: textures.front || undefined, color: 0xff00ff }),   // Front (magenta fallback)
                new THREE.MeshPhongMaterial({ map: textures.back || undefined, color: 0x00ffff })    // Back (cyan fallback)
            ];

            const cube = new THREE.Mesh(geometry, materials);
            scene.add(cube);

            // Tambahkan cahaya (penting untuk textures)
            const ambientLight = new THREE.AmbientLight(0x404040, 0.6); // Cahaya ambient lembut
            scene.add(ambientLight);
            const pointLight = new THREE.PointLight(0xffffff, 1, 100); // Cahaya titik putih
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            // Posisi awal kamera
            camera.position.z = 5;

            // Kontrol interaksi (geser/putar/zoom dengan mouse)
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true; // Efek halus
            controls.dampingFactor = 0.05;

            // Fungsi animasi: Rotasi otomatis + update kontrol
            function animate() {
                requestAnimationFrame(animate);
                cube.rotation.x += 0.01; // Rotasi X
                cube.rotation.y += 0.01; // Rotasi Y
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        }

        // Responsif saat ukuran window berubah
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
