<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubus 3D dengan Gambar pada Sisi (Texture dari GitHub)</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #000; }
        canvas { display: block; }
        #loading { position: absolute; top: 50%; left: 50%; color: white; font-family: Arial; }
    </style>
</head>
<body>
    <div id="loading">Loading textures...</div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <script>
        // Setup scene, camera, dan renderer
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Array URL gambar dari GitHub (ganti dengan link raw Anda)
        const textureUrls = {
            front: 'https://raw.githubusercontent.c/arjunkhan-id/Cube/main/front.jpg',  // Sisi depan
            back: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/back.jpg',    // Sisi belakang
            top: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/top.jpg',      // Sisi atas
            bottom: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/bottom.jpg', // Sisi bawah
            left: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/left.jpg',    // Sisi kiri
            right: 'https://raw.githubusercontent.com/arjunkhan-id/Cube/main/right.jpg'   // Sisi kanan
        };

        // Fungsi untuk load textures
        const loader = new THREE.TextureLoader();
        const textures = {};
        let loadedTextures = 0;
        const totalTextures = 6;

        function loadTexture(key, url) {
            loader.load(url, (texture) => {
                textures[key] = texture;
                texture.wrapS = THREE.RepeatWrapping;
                texture.wrapT = THREE.RepeatWrapping;
                loadedTextures++;
                if (loadedTextures === totalTextures) {
                    createCube();
                    document.getElementById('loading').style.display = 'none';
                }
            }, undefined, (error) => {
                console.error('Error loading texture:', url, error);
                // Fallback: Gunakan warna jika gambar gagal load
                textures[key] = null;
                loadedTextures++;
                if (loadedTextures === totalTextures) {
                    createCube();
                    document.getElementById('loading').style.display = 'none';
                }
            });
        }

        // Load semua textures
        Object.keys(textureUrls).forEach(key => {
            loadTexture(key, textureUrls[key]);
        });

        // Fungsi buat kubus dengan textures pada setiap face
        function createCube() {
            const geometry = new THREE.BoxGeometry(2, 2, 2); // Ukuran lebih besar agar texture terlihat jelas

            // Buat materials untuk setiap face (urutan: right, left, top, bottom, front, back)
            const materials = [
                new THREE.MeshPhongMaterial({ map: textures.right || undefined, color: 0xff0000 }),   // Right (index 0)
                new THREE.MeshPhongMaterial({ map: textures.left || undefined, color: 0x00ff00 }),    // Left (index 1)
                new THREE.MeshPhongMaterial({ map: textures.top || undefined, color: 0x0000ff }),     // Top (index 2)
                new THREE.MeshPhongMaterial({ map: textures.bottom || undefined, color: 0xffff00 }),  // Bottom (index 3)
                new THREE.MeshPhongMaterial({ map: textures.front || undefined, color: 0xff00ff }),   // Front (index 4)
                new THREE.MeshPhongMaterial({ map: textures.back || undefined, color: 0x00ffff })    // Back (index 5)
            ];

            const cube = new THREE.Mesh(geometry, materials);
            scene.add(cube);

            // Tambahkan cahaya (penting untuk material dengan texture)
            const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
            scene.add(ambientLight);
            const pointLight = new THREE.PointLight(0xffffff, 1, 100);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            // Posisi awal kamera
            camera.position.z = 5;

            // Kontrol mouse
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;

            // Fungsi animasi
            function animate() {
                requestAnimationFrame(animate);
                cube.rotation.x += 0.01;
                cube.rotation.y += 0.01;
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        }

        // Responsif window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
